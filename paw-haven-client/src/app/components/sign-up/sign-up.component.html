<section class="auth">
    <div class="auth__card">
      <button class="auth__back" (click)="goBack()">
        <img src="assets/icons/arrow-left.svg" alt="Назад" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\'><path d=\'M19 12H5M12 19l-7-7 7-7\'/></svg>'">
      </button>
      
      <div class="auth__header">
        <h1 class="auth__title">Реєстрація</h1>
        <p class="auth__subtitle">Створіть обліковий запис, щоб приєднатися до нашої платформи</p>
      </div>
  
      <form class="auth__form" (ngSubmit)="register()">
        
        <div class="auth__user-type">
          <div class="auth__type-title">Я:</div>
          <div class="auth__type-buttons">
            <button 
              type="button" 
              class="auth__type-button" 
              [class.auth__type-button--active]="userType === 'volunteer'"
              (click)="setUserType('volunteer')">
              Волонтер
            </button>
            <button 
              type="button" 
              class="auth__type-button" 
              [class.auth__type-button--active]="userType === 'organization'"
              (click)="setUserType('organization')">
              Організація
            </button>
          </div>
        </div>
  
        <div class="auth__field">
          <label for="email" class="auth__label">Email</label>
          <div class="auth__input-wrapper">
            <img src="assets/icons/email.svg" alt="Email" class="auth__icon" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\'><path d=\'M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\'/><polyline points=\'22,6 12,13 2,6\'/></svg>'">
            <input
              type="email"
              id="email"
              class="auth__input"
              placeholder="Введіть свій email"
              [(ngModel)]="email"
              name="email"
              required
            />
          </div>
        </div>
  
        <div class="auth__field">
          <label for="firstName" class="auth__label">{{ userType === 'organization' ? 'Назва організації' : 'Ім\'я' }}</label>
          <div class="auth__input-wrapper">
            <img src="assets/icons/user.svg" alt="Користувач" class="auth__icon" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\'><path d=\'M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\'/><circle cx=\'12\' cy=\'7\' r=\'4\'/></svg>'">
            <input
              type="text"
              id="firstName"
              class="auth__input"
              [placeholder]="userType === 'organization' ? 'Введіть назву організації' : 'Введіть ім\'я'"
              [(ngModel)]="firstName"
              name="firstName"
              required
            />
          </div>
        </div>
  
        <div class="auth__field" *ngIf="userType === 'volunteer'">
          <label for="lastName" class="auth__label">Прізвище</label>
          <div class="auth__input-wrapper">
            <img src="assets/icons/user.svg" alt="Користувач" class="auth__icon" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\'><path d=\'M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\'/><circle cx=\'12\' cy=\'7\' r=\'4\'/></svg>'">
            <input
              type="text"
              id="lastName"
              class="auth__input"
              placeholder="Введіть прізвище"
              [(ngModel)]="lastName"
              name="lastName"
              required
            />
          </div>
        </div>
  

        <div class="auth__field" *ngIf="userType === 'organization'">
          <label for="category" class="auth__label">Категорія організації</label>
          <div class="auth__input-wrapper">
            <img src="assets/icons/category.svg" alt="Категорія" class="auth__icon" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\'><path d=\'M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\'/><polyline points=\'9 22 9 12 15 12 15 22\'/></svg>'">
            <select
              id="category"
              class="auth__input"
              [(ngModel)]="category"
              name="category"
              required>
              <option value="" disabled selected>Виберіть категорію</option>
              <option *ngFor="let cat of categories" [value]="cat.id">{{ cat.title }}</option>
            </select>
          </div>
        </div>
  
        <div class="auth__field">
          <label for="password" class="auth__label">Пароль</label>
          <div class="auth__input-wrapper">
            <img src="assets/icons/lock.svg" alt="Пароль" class="auth__icon" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\'><rect x=\'3\' y=\'11\' width=\'18\' height=\'11\' rx=\'2\' ry=\'2\'/><path d=\'M7 11V7a5 5 0 0 1 10 0v4\'/></svg>'">
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              class="auth__input"
              placeholder="Введіть пароль"
              [(ngModel)]="password"
              name="password"
              required
            />
            <button type="button" class="auth__toggle-password" (click)="togglePasswordVisibility()">
              <img [src]="showPassword ? 'assets/icons/eye-off.svg' : 'assets/icons/eye.svg'" [alt]="showPassword ? 'Приховати пароль' : 'Показати пароль'" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\'><path d=\'M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\'/><circle cx=\'12\' cy=\'12\' r=\'3\'/></svg>'">
            </button>
          </div>
        </div>
  
        <div class="auth__field">
          <label for="confirmPassword" class="auth__label">Підтвердження паролю</label>
          <div class="auth__input-wrapper">
            <img src="assets/icons/lock.svg" alt="Підтвердження паролю" class="auth__icon" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\'><rect x=\'3\' y=\'11\' width=\'18\' height=\'11\' rx=\'2\' ry=\'2\'/><path d=\'M7 11V7a5 5 0 0 1 10 0v4\'/></svg>'">
            <input
              [type]="showConfirmPassword ? 'text' : 'password'"
              id="confirmPassword"
              class="auth__input"
              placeholder="Підтвердіть пароль"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              required
            />
            <button type="button" class="auth__toggle-password" (click)="toggleConfirmPasswordVisibility()">
              <img [src]="showConfirmPassword ? 'assets/icons/eye-off.svg' : 'assets/icons/eye.svg'" [alt]="showConfirmPassword ? 'Приховати пароль' : 'Показати пароль'" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\'><path d=\'M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\'/><circle cx=\'12\' cy=\'12\' r=\'3\'/></svg>'">
            </button>
          </div>
        </div>
  
        <div class="auth__options">
          <label class="auth__remember">
            <input type="checkbox" [(ngModel)]="agreeToTerms" name="agreeToTerms" required/>
            <span class="auth__checkbox-custom"></span>
            <span>Я погоджуюсь з <a href="#" class="auth__terms-link">умовами користування</a></span>
          </label>
        </div>
  
        <div *ngIf="errorMessage" class="auth__error">
          {{ errorMessage }}
        </div>
  
        <button type="submit" class="auth__submit" [disabled]="!agreeToTerms || isLoading">
          {{ isLoading ? 'Реєстрація...' : 'Зареєструватися' }}
        </button>
  
        <div class="auth__divider">
          <span>Або зареєструватися через</span>
        </div>
  
        <div class="auth__socials">
          <button type="button" class="auth__social auth__social--google">
            <img src="assets/icons/sign-in/google.svg" alt="Google" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\'><path d=\'M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z\' fill=\'%234285F4\'/></svg>'">
          </button>
          <button type="button" class="auth__social auth__social--facebook">
            <img src="assets/icons/sign-in/facebook.svg" alt="Facebook" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\'><path d=\'M20.9,2H3.1C2.5,2,2,2.5,2,3.1v17.7C2,21.5,2.5,22,3.1,22h9.6v-7.7h-2.6v-3h2.6V9.4c0-2.6,1.6-4,3.9-4 c1.1,0,2.1,0.1,2.3,0.1v2.7l-1.6,0c-1.3,0-1.5,0.6-1.5,1.5v1.9h3l-0.4,3h-2.6V22h5.1c0.6,0,1.1-0.5,1.1-1.1V3.1C22,2.5,21.5,2,20.9,2z\' fill=\'%233b5998\'/></svg>'">
          </button>
          <button type="button" class="auth__social auth__social--apple">
            <img src="assets/icons/sign-in/apple.svg" alt="Apple" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\'><path d=\'M16.498 0h0.06c1.047 0.228 2.441 1.46 2.441 3.27 0 1.734-1.12 2.687-2.046 2.687-0.9 0-1.8-0.92-2.147-0.92-0.413 0-1.08 0.887-2.016 0.887-1.12 0-2.229-1.147-2.723-2.687 0.585-0.368 1.534-1.307 1.534-2.423 0-1.271-0.74-1.941-1.414-2.294 0.375-0.15 0.81-0.15 1.17-0.15 1.12 0 2.017 0.9 2.46 0.9 0.374 0 1.12-0.87 2.681-0.87zM14.195 8.67c0.67 0 1.914 0.45 2.721 0.45 1.534 0 5.086-1.196 5.086-5.414 0-0.187-0.035-0.361-0.055-0.54-1.567 0.28-2.312 0.96-2.987 0.96-0.494 0-1.307-0.824-2.841-0.824-1.567 0-2.507 0.899-3.195 0.899-0.861 0-1.688-0.824-3.234-0.824-2.334 0-4.693 1.984-4.693 4.726 0 1.646 0.374 3.27 1.082 4.651 0.634 1.2 1.834 2.760 3.25 2.76 0.949 0 1.373-0.563 2.332-0.563 0.9 0 1.12 0.525 2.287 0.525 1.373 0 2.554-1.646 3.084-2.611-2.005-0.747-2.837-2.723-2.837-4.237 0-0.187 0-0.36 0-0.54z\' fill=\'black\'/></svg>'">
          </button>
        </div>
  
        <p class="auth__signup">
          Вже маєте акаунт?
          <a routerLink="/sign-in">Увійти</a>
        </p>
      </form>
    </div>
  </section>
